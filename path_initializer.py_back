from datetime import datetime
import logging
import xml.etree.ElementTree as ET

class LogPathFinder():
    """
    Path finder class
    """
    def __init__(self, config, input_date):
        
        self.config = config
        self.input_date = input_date
        
        #log4j property paramteres
        
        self.griff_log_basePath =  "griff_log_basePath"
        self.griff_log_backupBasePath = "griff_log_backupBasePath"
        self.griff_log_rollover_datePattern = "griff_log_rollover_datePattern"
        self.griff_log_rollover_extension = "griff_log_rollover_extension"
        
        self.packs_log_path =  "packs_log_path"
        self.packs_log_backupPath =  "packs_log_backupPath"
        self.packs_log_filename =  "packs_log_filename"
        self.packs_log_backupBasePath = "packs_log_backupBasePath"
        self.packs_log_rollover_basePath = "packs_log_rollover_basePath"
        self.packs_log_rollover_datePattern = "packs_log_rollover_datePattern"
        self.packs_log_rollover_extension = "packs_log_rollover_extension"
        
        #tomcat dictionary and path parameters
        self.griff_tomcat_log_path_dict = {}
        self.griff_tomcat_log4j_property_dict = {}
        
        self.packs_tomcat_log_path_dict = {}
        self.packs_tomcat_log4j_property_dict = {}
        
        self.griff_process_home_directory = "griff_process_home_directory"
        self.griff_tomcat_access_path = "griff_tomcat_access_path"
        self.griff_tomcat_baselog_path = "griff_tomcat_baselog_path"
        self.griff_tomcat_tlog_path = "griff_tomcat_tlog_path"
        self.griff_tomcat_tlog_backup_path = "griff_tomcat_tlog_backup_path"
        self.griff_tomcat_daemonlog_path = "griff_tomcat_daemonlog_path"
        self.griff_tomcat_daemonlog_backup_path = "griff_tomcat_daemonlog_backup_path"
        self.griff_tomcat_rbtlog_path = 'griff_tromcat_rbtlog_path'
        self.griff_tomcat_rbtlog_backup_path = 'griff_tromcat_rbtlog_backup_path'
        self.griff_tomcat_cglog_path = 'griff_tomcat_cglog_path'
        self.griff_tomcat_cglog_backup_path = 'griff_tomcat_cglog_backup_path'
        self.griff_tomcat_tptlog_path = 'griff_tomcat_tptlog_path'
        self.griff_tomcat_tptlog_backup_path = 'griff_tomcat_tptlog_backup_path'
        self.griff_tomcat_snmplog_path = 'griff_tomcat_snmplog_path'
        self.griff_tomcat_snmplog_backup_path = 'griff_tomcat_snmplog_backup_path'
        self.griff_tomcat_msglog_path = 'griff_tomcat_msglog_path'
        self.griff_tomcat_msglog_backup_path = 'griff_tomcat_msglog_backup_path'
        self.griff_tomcat_recolog_path = 'griff_tomcat_recolog_path'
        self.griff_tomcat_recolog_backup_path = 'griff_tomcat_recolog_backup_path'
        self.griff_tomcat_usertokenlog_path = 'griff_tomcat_usertokenlog_path'
        self.griff_tomcat_usertokenlog_backup_path = 'griff_tomcat_usertokenlog_backup_path'
        self.griff_tomcat_subtlog_path = 'griff_tomcat_subtlog_path'
        self.griff_tomcat_subtlog_backup_path = 'griff_tomcat_subtlog_backup_path'
        
        self.packs_process_home_directory = "packs_process_home_directory"
        self.packs_tomcat_access_path = "packs_tomcat_access_path"
        self.packs_tomcat_baselog_path = "packs_tomcat_baselog_path"
        self.packs_tomcat_tlog_path = "packs_tomcat_tlog_path"
        self.packs_tomcat_tlog_backup_path = "packs_tomcat_tlog_backup_path"
        self.packs_tomcat_daemonlog_path = "packs_tomcat_daemonlog_path"
        self.packs_tomcat_daemonlog_backup_path = "packs_tomcat_daemonlog_backup_path"
        self.packs_tomcat_rbtlog_path = 'packs_tromcat_rbtlog_path'
        self.packs_tomcat_rbtlog_backup_path = 'packs_tromcat_rbtlog_backup_path'
        self.packs_tomcat_cglog_path = 'packs_tomcat_cglog_path'
        self.packs_tomcat_cglog_backup_path = 'packs_tomcat_cglog_backup_path'
        self.packs_tomcat_tptlog_path = 'packs_tomcat_tptlog_path'
        self.packs_tomcat_tptlog_backup_path = 'packs_tomcat_tptlog_backup_path'
        self.packs_tomcat_snmplog_path = 'packs_tomcat_snmplog_path'
        self.packs_tomcat_snmplog_backup_path = 'packs_tomcat_snmplog_backup_path'
        self.packs_tomcat_msglog_path = 'packs_tomcat_msglog_path'
        self.packs_tomcat_msglog_backup_path = 'packs_tomcat_msglog_backup_path'
        self.packs_tomcat_recolog_path = 'packs_tomcat_recolog_path'
        self.packs_tomcat_recolog_backup_path = 'packs_tomcat_recolog_backup_path'
        self.packs_tomcat_usertokenlog_path = 'packs_tomcat_usertokenlog_path'
        self.packs_tomcat_usertokenlog_backup_path = 'packs_tomcat_usertokenlog_backup_path'
        self.packs_tomcat_subtlog_path = 'packs_tomcat_subtlog_path'
        self.packs_tomcat_subtlog_backup_path = 'packs_tomcat_subtlog_backup_path'
        

        
        #boolean path paramters
        self.is_griff_access_path = False
        self.is_packs_access_path = False
        
    def parse_transaction_logging(self, pname):
        """
        Parse logs
        """
        
        if pname == 'griff':
            if self.config.has_option(pname, 'ACCESS_LOG'):
                self.griff_tomcat_log_path_dict[self.griff_tomcat_access_path] = self.config[pname]['ACCESS_LOG']
                self.is_griff_access_path = True
            else:
                logging.info(
                            'access log path under %s not configured in config.properties,'\
                            'Hence will not be fetched', pname
                            )
        
            if self.config.has_option(pname, 'LOG4J2_XML'):
                log4j2_path = self.config[pname]['LOG4J2_XML']
                self.parse_log4j_property(pname, log4j2_path)
            
            if self.config.has_option(pname, 'PROCESS_HOME_DIR'):
                self.griff_tomcat_log_path_dict[self.griff_process_home_directory] = self.config[pname]['PROCESS_HOME_DIR']
                
                if self.griff_tomcat_log4j_property_dict:  
                    for key, value in self.griff_tomcat_log4j_property_dict.items():    
                        if str(value).startswith('${sys:catalina.home}'):
                            replacedValue = str(value).replace("${sys:catalina.home}",\
                                            self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                            self.griff_tomcat_log4j_property_dict[key] = replacedValue
                        
                        elif str(value).startswith('%d{yyyy-MM-dd}-%i'):
                            search_date = datetime.strftime(datetime.strptime(self.input_date, "%Y%m%d"), "yyyy-MM-dd")
                            self.griff_tomcat_log4j_property_dict[key] = f'{search_date}-*'
                    
                    logging.info('\n')
                    logging.info('GRIFF TOMCAT LOG4J2 PROPERTY INITIALIZED')
                    formatter = "#" * 100
                    logging.info('%s', formatter)
                    
                    for key, value in self.griff_tomcat_log4j_property_dict.items():
                        logging.info('%s : %s', key, value)
                    
                    self.parse_logger(pname, log4j2_path)

                else:
                    logging.info(
                                'Properties not defined in %s log4j2.xml,'\
                                'We will try to fetch appender path without place holder.', pname
                                )
            else:
                logging.info(
                            '%s process home directory not configured in config.properties,'\
                            'Hence substitution in log4j2.xml for catalina home will not be done.', pname
                            )
        
        elif pname == 'packs':
            if self.config.has_option(pname, 'ACCESS_LOG'):
                self.packs_tomcat_log_path_dict[self.packs_tomcat_access_path] = self.config[pname]['ACCESS_LOG']
                self.is_griff_access_path = True
            else:
                logging.info(
                            'access log path under %s not configured in config.properties,'\
                            'Hence will not be fetched', pname
                            )
    
            if self.config.has_option(pname, 'LOG4J2_XML'):
                log4j2_path = self.config[pname]['LOG4J2_XML']
                self.parse_log4j_property(pname, log4j2_path)
            
            if self.config.has_option(pname, 'PROCESS_HOME_DIR'):
                self.packs_tomcat_log_path_dict[self.packs_process_home_directory] = self.config[pname]['PROCESS_HOME_DIR']
                
                if self.packs_tomcat_log4j_property_dict:
                    for key, value in self.packs_tomcat_log4j_property_dict.items():    
                        if str(value).startswith('${sys:catalina.home}'):
                            replacedValue = str(value).replace("${sys:catalina.home}",\
                                            self.packs_tomcat_log_path_dict[self.packs_process_home_directory])
                            self.packs_tomcat_log4j_property_dict[key] = replacedValue
                        
                        elif str(value).startswith('%d{yyyy-MM-dd}-%i'):
                            search_date = datetime.strftime(datetime.strptime(self.input_date, "%Y%m%d"), "yyyy-MM-dd")
                            self.packs_tomcat_log4j_property_dict[key] = f'{search_date}-*'
                        
                        elif str(value).startswith('${sys.log.backupBasePath}'):
                            replacedValue = str(value).replace("${sys.log.backupBasePath}",\
                                            self.packs_tomcat_log4j_property_dict[self.packs_log_backupBasePath])
                            self.packs_tomcat_log4j_property_dict[key] = replacedValue
                        
                        elif str(value).startswith('${log.backupPath}'):
                            replacedValue = str(value).replace("${log.backupPath}",\
                                            self.packs_tomcat_log4j_property_dict[self.packs_log_backupPath])
                            self.packs_tomcat_log4j_property_dict[key] = replacedValue
                    
                    logging.info('\n')
                    logging.info('PACKS TOMCAT LOG4J2 PROPERTY INITIALIZED')
                    formatter = "#" * 100
                    logging.info('%s', formatter)
                    
                    for key, value in self.packs_tomcat_log4j_property_dict.items():
                        logging.info('%s : %s', key, value)
                    
                    self.parse_logger(pname, log4j2_path)
            
                else:
                    logging.info(
                                'Properties not defined in %s log4j2.xml,'\
                                'We will try to fetch appender path without place holder.', pname
                                )
            else:
                logging.info(
                            '%s process home directory not configured in config.properties,'\
                            'Hence substitution in log4j2.xml for catalina home will not be done.', pname
                            )
    
    def parse_log4j_property(self, pname, log4j):
        """
        Parse log4j2 property
        """
        logging.info('\n')
        logging.info('process name: %s and log4j path: %s', pname, log4j)
        if pname == 'griff':
            try:
                tree = ET.parse(log4j)
                logging.info('griff property: %s', tree.getroot())
                for data in tree.findall('./Properties/Property'):
                    if data.attrib.get('name') == 'log.basePath':
                        self.griff_tomcat_log4j_property_dict[self.griff_log_basePath] = data.text
                    elif data.attrib.get('name') == 'log.backupBasePath':
                        self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath] = data.text
                    elif data.attrib.get('name') == 'log.rollover.datePattern':
                        self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern] = data.text
                    elif data.attrib.get('name') == 'log.rollover.extension':
                        self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension] = data.text
            except ET.ParseError as ex:
                logging.debug(ex)
                
        elif pname == 'packs':
            try:
                tree = ET.parse(log4j)
                logging.info('packs property: %s', tree.getroot())
                for data in tree.findall('./Properties/Property'):
                    if data.attrib.get('name') == 'log.path':
                        self.packs_tomcat_log4j_property_dict[self.packs_log_path] = data.text
                    elif data.attrib.get('name') == 'log.output':
                        self.packs_tomcat_log4j_property_dict[self.packs_log_filename] = data.text
                    elif data.attrib.get('name') == 'sys.log.backupBasePath':
                        self.packs_tomcat_log4j_property_dict[self.packs_log_backupBasePath] = data.text
                    elif data.attrib.get('name') == 'log.backupPath':
                        self.packs_tomcat_log4j_property_dict[self.packs_log_backupPath] = data.text
                    elif data.attrib.get('name') == 'log.rollover.basePath':
                        self.packs_tomcat_log4j_property_dict[self.packs_log_rollover_basePath] = data.text
                    elif data.attrib.get('name') == 'log.rollover.datePattern':
                        self.packs_tomcat_log4j_property_dict[self.packs_log_rollover_datePattern] = data.text
                    elif data.attrib.get('name') == 'log.rollover.extension':
                        self.packs_tomcat_log4j_property_dict[self.packs_log_rollover_extension] = data.text 
            except ET.ParseError as ex:
                logging.debug(ex)
    
    def parse_logger(self, pname, log4j2_path):
        """
        Parse appender
        """
        try:
            tree = ET.parse(log4j2_path)
            if pname == 'griff':
                for data in tree.findall('./Loggers/AsyncLogger'):
                    
                    if ( 
                            data.attrib.get('name') == 'org' or data.attrib.get('name') == 'org.hibernate.SQL' 
                                or data.attrib.get('name') == 'com.onmobile.apps' 
                                or data.attrib.get('name') == 'com.onmobile.apps.griff.webservice.logging' 
                                or data.attrib.get('name') == 'ru.vas_stream' 
                                or data.attrib.get('name') == 'httpclient.wire'
                        ):
                        
                            self.parse_routing(data, tree, pname)
                    
                    elif ( 
                            data.attrib.get('name') == 'RBT' or data.attrib.get('name') == 'CGLOG' 
                                or data.attrib.get('name') == 'GRIFFTLOG'
                                or data.attrib.get('name') == 'TPTLOG'
                                or data.attrib.get('name') == 'com.onmobile.apps.griff.service.snmp'
                                or data.attrib.get('name') == 'MSG'
                                or data.attrib.get('name') == 'GRIFFRECOLOG'
                                or data.attrib.get('name') == 'USERTOKENTLOG'
                                or data.attrib.get('name') == 'GRIFFSUBTLOG'
                        ):
                            self.parse_appender(data, tree, pname)
            
            elif pname == 'packs':
                if ( 
                        data.attrib.get('name') == 'org' or data.attrib.get('name') == 'org.hibernate.SQL' 
                            or data.attrib.get('name') == 'com.onmobile.apps' 
                            or data.attrib.get('name') == 'com.onmobile.apps.griff.webservice.logging' 
                            or data.attrib.get('name') == 'ru.vas_stream' 
                            or data.attrib.get('name') == 'httpclient.wire'
                    ):
                    
                        self.parse_routing(data, tree, pname)
                
                elif ( 
                        data.attrib.get('name') == 'RBT' or data.attrib.get('name') == 'CGLOG' 
                            or data.attrib.get('name') == 'GRIFFTLOG'
                            or data.attrib.get('name') == 'TPTLOG'
                            or data.attrib.get('name') == 'com.onmobile.apps.griff.service.snmp'
                            or data.attrib.get('name') == 'MSG'
                            or data.attrib.get('name') == 'GRIFFRECOLOG'
                            or data.attrib.get('name') == 'USERTOKENTLOG'
                            or data.attrib.get('name') == 'GRIFFSUBTLOG'
                    ):
                        self.parse_appender(data, tree, pname)
                        
        except ET.ParseError as ex:
            logging.debug(ex)

    def parse_routing(self, data, tree, pname):
        try:
            for logger in data.findall('AppenderRef'):
                for routing in tree.findall('./Appenders/Routing'):
                    if logger.attrib.get('ref') == routing.attrib.get('name'):
                        for routes in tree.findall('./Appenders/Routing/Routes'):
                            self.parse_routing_appender(routes, tree, pname)
        except ET.ParseError as ex:
            logging.debug(ex)
            
    def parse_routing_appender(self, data, tree, pname):
        if pname == "griff":
            try:
                for route in data.findall('Route'):
                    for appender in tree.findall('./Appenders/RollingRandomAccessFile'):
                        if route.attrib.get('ref') == appender.attrib.get('name'):
                            if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                if str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                    
                                    replacedValue = str(appender.attrib.get('fileName'))\
                                                    .replace("${log.basePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                    self.griff_tomcat_log_path_dict[self.griff_tomcat_daemonlog_path] = replacedValue
                                    
                                    if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                        replacedValue = str(appender.attrib.get('filePattern'))\
                                                        .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                        .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                        .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_daemonlog_backup_path] = replacedValue
                                    
                                    else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_daemonlog_backup_path] = appender.attrib.get('filePattern')   
                                else:
                                    self.griff_tomcat_log_path_dict[self.griff_tomcat_daemonlog_path] = appender.attrib.get('fileName')   
                            else:
                                self.griff_tomcat_log_path_dict[self.griff_tomcat_daemonlog_path] = appender.attrib.get('fileName')
            except ET.ParseError as ex:
                logging.debug(ex)
          
    def parse_appender(self, data, tree, pname):
        if pname == 'griff':
            try:
                for logger in data.findall('AppenderRef'):
                    for appender in tree.findall('./Appenders/RollingRandomAccessFile'):
                        if logger.attrib.get('ref') == appender.attrib.get('name'):
                            if data.attrib.get('name') == 'RBT':
                                if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                    if str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                        
                                        replacedValue = str(appender.attrib.get('fileName'))\
                                                        .replace("${log.basePath}",\
                                                        self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_path] = replacedValue
                                        
                                        if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                    .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath]).replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern]).replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_backup_path] = replacedValue
                                        
                                        elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('filePattern')).replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath]).replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern]).replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_backup_path] = replacedValue
                                        
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_backup_path] = appender.attrib.get('filePattern')
                                    
                                    elif str(appender.attrib.get('fileName')).startswith('${sys:catalina.home}'):
                                        replacedValue = str(appender.attrib.get('fileName'))\
                                                        .replace("${sys:catalina.home}", self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_path] = replacedValue
                                    
                                        if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_backup_path] = replacedValue
                                        
                                        elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_backup_path] = replacedValue
                                        
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_backup_path] = appender.attrib.get('fileName')
                                    else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_path] = appender.attrib.get('fileName')
                                else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_path] = appender.attrib.get('fileName')
                            
                            elif data.attrib.get('name') == 'CGLOG':
                                if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                    if str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                        replacedValue = str(appender.attrib.get('fileName'))\
                                                        .replace("${log.basePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_path] = replacedValue
                                    
                                        if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_backup_path] = replacedValue
                                        
                                        elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_backup_path] = replacedValue
                                        
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_backup_path] = appender.attrib.get('filePattern')
                                    
                                    elif str(appender.attrib.get('fileName')).startswith('${sys:catalina.home}'):
                                        replacedValue = str(appender.attrib.get('fileName'))\
                                                        .replace("${sys:catalina.home}", self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_path] = replacedValue
                                    
                                        if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_backup_path] = replacedValue
                                        
                                        elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_backup_path] = replacedValue
                                        
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_backup_path] = appender.attrib.get('filePattern')
                                    else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_path] = appender.attrib.get('fileName')
                                else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_path] = appender.attrib.get('fileName')
                            
                            elif data.attrib.get('name') == 'GRIFFTLOG':
                                if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                    if str(appender.attrib.get('fileName')).startswith('${sys:catalina.home}'):
                                        replacedValue = str(appender.attrib.get('fileName'))\
                                                        .replace("${sys:catalina.home}", self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_path] = replacedValue
                                        
                                        if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_backup_path] = replacedValue
                                        
                                        elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('filePattern')).replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath]).replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern]).replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_backup_path] = replacedValue
                                        
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_backup_path] = appender.attrib.get('filePattern')
                                    
                                    elif str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                        replacedValue = str(appender.attrib.get('fileName'))\
                                                        .replace("${log.basePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_path] = replacedValue
                                        
                                        if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_backup_path] = replacedValue
                                        
                                        elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_backup_path] = replacedValue
                                        
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_backup_path] = appender.attrib.get('filePattern')
                                    else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_path] = appender.attrib.get('fileName')
                                else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_path] = appender.attrib.get('fileName')
                            
                            elif data.attrib.get('name') == 'TPTLOG':
                                if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                    if str(appender.attrib.get('fileName')).startswith('${sys:catalina.home}'):
                                        replacedValue = str(appender.attrib.get('fileName'))\
                                                        .replace("${sys:catalina.home}", self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_path] = replacedValue
                                    
                                        if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_backup_path] = replacedValue
                                        
                                        elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_backup_path] = replacedValue
                                        
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_backup_path] = appender.attrib.get('filePattern')
                                    
                                    elif str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                        replacedValue = str(appender.attrib.get('fileName'))\
                                                        .replace("${log.basePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_path] = replacedValue
                                        
                                        if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_backup_path] = replacedValue
                                        
                                        elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_backup_path] = replacedValue
                                        
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_backup_path] = appender.attrib.get('filePattern')
                                    else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_path] = appender.attrib.get('fileName')
                                else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_path] = appender.attrib.get('fileName')
                            
                            elif data.attrib.get('name') == 'com.onmobile.apps.griff.service.snmp':
                                if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                    if str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                        replacedValue = str(appender.attrib.get('fileName'))\
                                                        .replace("${log.basePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_path] = replacedValue
                                    
                                        if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_backup_path] = replacedValue
                                        
                                        elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_backup_path] = replacedValue
                                        
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_backup_path] = appender.attrib.get('filePattern')
                                    
                                    elif str(appender.attrib.get('fileName')).startswith('${sys:catalina.home}'):
                                        replacedValue = str(appender.attrib.get('fileName'))\
                                                        .replace("${sys:catalina.home}", self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_path] = replacedValue
                                        
                                        if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_backup_path] = replacedValue
                                        
                                        elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_backup_path] = replacedValue
                                        
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_backup_path] = appender.attrib.get('filePattern')
                                    else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_path] = appender.attrib.get('fileName')
                                else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_path] = appender.attrib.get('fileName')
                            
                            elif data.attrib.get('name') == 'MSG':
                                if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                    if str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                        replacedValue = str(appender.attrib.get('fileName'))\
                                                        .replace("${log.basePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_path] = replacedValue
                                    
                                        if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_backup_path] = replacedValue
                                        
                                        elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_backup_path] = replacedValue
                                        
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_backup_path] = appender.attrib.get('filePattern')
                                    
                                    elif str(appender.attrib.get('fileName')).startswith('${sys:catalina.home}'):
                                        replacedValue = str(appender.attrib.get('fileName'))\
                                                        .replace("${sys:catalina.home}", self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_path] = replacedValue
                                    
                                        if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_backup_path] = replacedValue
                                        
                                        elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_backup_path] = replacedValue
                                        
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_backup_path] = appender.attrib.get('filePattern')
                                    else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_path] = appender.attrib.get('fileName')
                                else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_path] = appender.attrib.get('fileName')
                            
                            elif data.attrib.get('name') == 'GRIFFRECOLOG':
                                if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                    if str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                        replacedValue = str(appender.attrib.get('fileName'))\
                                                        .replace("${log.basePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_path] = replacedValue
                                    
                                        if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_backup_path] = replacedValue
                                        
                                        elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_backup_path] = replacedValue
                                        
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_backup_path] = appender.attrib.get('filePattern')
                                    
                                    elif str(appender.attrib.get('fileName')).startswith('${sys:catalina.home}'):
                                        replacedValue = str(appender.attrib.get('fileName'))\
                                                        .replace("${sys:catalina.home}", self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_path] = replacedValue
                                    
                                        if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_backup_path] = replacedValue
                                        
                                        elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_backup_path] = replacedValue
                                        
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_backup_path] = appender.attrib.get('filePattern')
                                    else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_path] = appender.attrib.get('fileName')
                                else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_path] = appender.attrib.get('fileName')
                            
                            elif data.attrib.get('name') == 'USERTOKENTLOG':
                                if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                    if str(appender.attrib.get('fileName')).startswith('${sys:catalina.home}'):
                                        replacedValue = str(appender.attrib.get('fileName'))\
                                                        .replace("${sys:catalina.home}", self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_path] = replacedValue
                                    
                                        if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_backup_path] = replacedValue
                                        
                                        elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_backup_path] = replacedValue
                                        
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_backup_path] = appender.attrib.get('filePattern')
                                    
                                    elif str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                        replacedValue = str(appender.attrib.get('fileName'))\
                                                        .replace("${log.basePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_path] = replacedValue
                                    
                                        if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_backup_path] = replacedValue
                                        
                                        elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_backup_path] = replacedValue
                                        
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_backup_path] = appender.attrib.get('filePattern')
                                    else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_path] = appender.attrib.get('fileName')
                                else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_path] = appender.attrib.get('fileName')
                            
                            elif data.attrib.get('name') == 'GRIFFSUBTLOG':
                                if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                    if str(appender.attrib.get('fileName')).startswith('${sys:catalina.home}'):
                                        replacedValue = str(appender.attrib.get('fileName'))\
                                                        .replace("${sys:catalina.home}", self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_path] = replacedValue
                                    
                                        if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_backup_path] = replacedValue
                                        
                                        elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_backup_path] = replacedValue
                                        
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_backup_path] = appender.attrib.get('filePattern')
                                    
                                    elif str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                        replacedValue = str(appender.attrib.get('fileName'))\
                                                        .replace("${log.basePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_path] = replacedValue
                                    
                                        if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_backup_path] = replacedValue
                                        
                                        elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('filePattern'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                            .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                            .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_backup_path] = replacedValue
                                        
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_backup_path] = appender.attrib.get('filePattern')
                                    else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_path] = appender.attrib.get('fileName')
                                else:
                                        self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_path] = appender.attrib.get('fileName')
                    else:
                        for appender in tree.findall('./Appenders/RollingFile'):
                            if logger.attrib.get('ref') == appender.attrib.get('name'):
                                if data.attrib.get('name') == 'RBT':
                                    if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                        if str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                            replacedValue = str(appender.attrib.get('fileName'))\
                                                            .replace("${log.basePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_path] = replacedValue
                                        
                                            if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_backup_path] = replacedValue
                                            
                                            elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_backup_path] = replacedValue
                                            
                                            else:
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_backup_path] = appender.attrib.get('filePattern')
                                        
                                        elif str(appender.attrib.get('fileName')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('fileName'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_path] = replacedValue
                                        
                                            if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_backup_path] = replacedValue
                                            
                                            elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_backup_path] = replacedValue
                                            
                                            else:
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_backup_path] = appender.attrib.get('filePattern')
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_path] = appender.attrib.get('fileName')
                                    else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_rbtlog_path] = appender.attrib.get('fileName')
                                
                                elif data.attrib.get('name') == 'CGLOG':
                                    if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                        if str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                            replacedValue = str(appender.attrib.get('fileName'))\
                                                            .replace("${log.basePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_path] = replacedValue
                                        
                                            if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_backup_path] = replacedValue
                                            
                                            elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_backup_path] = replacedValue
                                            
                                            else:
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_backup_path] = appender.attrib.get('filePattern')
                                        
                                        elif str(appender.attrib.get('fileName')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('fileName'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_path] = replacedValue
                                        
                                            if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_backup_path] = replacedValue
                                            
                                            elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_backup_path] = replacedValue
                                            
                                            else:
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_backup_path] = appender.attrib.get('filePattern')
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_path] = appender.attrib.get('fileName')
                                    else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_cglog_path] = appender.attrib.get('fileName')
                                
                                elif data.attrib.get('name') == 'GRIFFTLOG':
                                    if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                        if str(appender.attrib.get('fileName')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('fileName'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_path] = replacedValue
                                        
                                            if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_backup_path] = replacedValue
                                            
                                            elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_backup_path] = replacedValue
                                            
                                            else:
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_backup_path] = appender.attrib.get('filePattern')
                                        
                                        elif str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                            replacedValue = str(appender.attrib.get('fileName'))\
                                                            .replace("${log.basePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_path] = replacedValue
                                        
                                            if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_backup_path] = replacedValue
                                            
                                            elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                                replacedValue = str(appender.attrib.get('filePattern')).replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath]).replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern]).replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_backup_path] = replacedValue
                                            
                                            else:
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_backup_path] = appender.attrib.get('filePattern')
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_path] = appender.attrib.get('fileName')
                                    else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tlog_path] = appender.attrib.get('fileName')
                                
                                elif data.attrib.get('name') == 'TPTLOG':
                                    if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                        if str(appender.attrib.get('fileName')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('fileName'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_path] = replacedValue
                                        
                                            if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_backup_path] = replacedValue
                                            
                                            elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_backup_path] = replacedValue
                                            
                                            else:
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_backup_path] = appender.attrib.get('filePattern')
                                        
                                        elif str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                            replacedValue = str(appender.attrib.get('fileName'))\
                                                            .replace("${log.basePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_path] = replacedValue
                                        
                                            if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_backup_path] = replacedValue
                                            
                                            elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_backup_path] = replacedValue
                                            
                                            else:
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_backup_path] = appender.attrib.get('filePattern')
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_path] = appender.attrib.get('fileName')
                                    else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_tptlog_path] = appender.attrib.get('fileName')
                                
                                elif data.attrib.get('name') == 'com.onmobile.apps.griff.service.snmp':
                                    if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                        if str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                            replacedValue = str(appender.attrib.get('fileName'))\
                                                            .replace("${log.basePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_path] = replacedValue
                                        
                                            if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_backup_path] = replacedValue
                                            
                                            elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_backup_path] = replacedValue
                                            
                                            else:
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_backup_path] = appender.attrib.get('filePattern')
                                        
                                        elif str(appender.attrib.get('fileName')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('fileName'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_path] = replacedValue
                                        
                                            if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_backup_path] = replacedValue
                                            
                                            elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_backup_path] = replacedValue
                                            
                                            else:
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_backup_path] = appender.attrib.get('filePattern')
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_path] = appender.attrib.get('fileName')
                                    else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_snmplog_path] = appender.attrib.get('fileName')
                                
                                elif data.attrib.get('name') == 'MSG':
                                    if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                        if str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                            replacedValue = str(appender.attrib.get('fileName'))\
                                                            .replace("${log.basePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_path] = replacedValue
                                        
                                            if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_backup_path] = replacedValue
                                            
                                            elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_backup_path] = replacedValue
                                            
                                            else:
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_backup_path] = appender.attrib.get('filePattern')
                                        
                                        elif str(appender.attrib.get('fileName')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('fileName'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_path] = replacedValue
                                        
                                            if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_backup_path] = replacedValue
                                            
                                            elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_backup_path] = replacedValue
                                            
                                            else:
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_backup_path] = appender.attrib.get('filePattern')
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_path] = appender.attrib.get('fileName')
                                    else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_msglog_path] = appender.attrib.get('fileName')
                                
                                elif data.attrib.get('name') == 'GRIFFRECOLOG':
                                    if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                        if str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                            replacedValue = str(appender.attrib.get('fileName'))\
                                                            .replace("${log.basePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_path] = replacedValue
                                        
                                            if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_backup_path] = replacedValue
                                            
                                            elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_backup_path] = replacedValue
                                            
                                            else:
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_backup_path] = appender.attrib.get('filePattern')
                                        
                                        elif str(appender.attrib.get('fileName')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('fileName'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_path] = replacedValue
                                        
                                            if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_backup_path] = replacedValue
                                            
                                            elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_backup_path] = replacedValue
                                            
                                            else:
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_backup_path] = appender.attrib.get('filePattern')
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_path] = appender.attrib.get('fileName')
                                    else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_recolog_path] = appender.attrib.get('fileName')
                                
                                elif data.attrib.get('name') == 'USERTOKENTLOG':
                                    if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                        if str(appender.attrib.get('fileName')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('fileName'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_path] = replacedValue
                                        
                                            if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_backup_path] = replacedValue
                                            
                                            elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_backup_path] = replacedValue
                                            
                                            else:
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_backup_path] = appender.attrib.get('filePattern')
                                        
                                        elif str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                            replacedValue = str(appender.attrib.get('fileName'))\
                                                            .replace("${log.basePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_path] = replacedValue
                                        
                                            if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_backup_path] = replacedValue
                                            
                                            elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_backup_path] = replacedValue
                                            
                                            else:
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_backup_path] = appender.attrib.get('filePattern')
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_path] = appender.attrib.get('fileName')
                                    else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_usertokenlog_path] = appender.attrib.get('fileName')
                                
                                elif data.attrib.get('name') == 'GRIFFSUBTLOG':
                                    if self.griff_tomcat_log4j_property_dict[self.griff_log_basePath]:
                                        if str(appender.attrib.get('fileName')).startswith('${sys:catalina.home}'):
                                            replacedValue = str(appender.attrib.get('fileName'))\
                                                            .replace("${sys:catalina.home}", self.griff_tomcat_log_path_dict[self.griff_process_home_directory])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_path] = replacedValue
                                        
                                            if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_backup_path] = replacedValue
                                            
                                            elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_backup_path] = replacedValue
                                            
                                            else:
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_backup_path] = appender.attrib.get('filePattern')
                                        
                                        elif str(appender.attrib.get('fileName')).startswith('${log.basePath}'):
                                            replacedValue = str(appender.attrib.get('fileName'))\
                                                            .replace("${log.basePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_basePath])
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_path] = replacedValue
                                        
                                            if str(appender.attrib.get('filePattern')).startswith('${log.backupBasePath}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${log.backupBasePath}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_backup_path] = replacedValue
                                            
                                            elif str(appender.attrib.get('filePattern')).startswith('${sys:catalina.home}'):
                                                replacedValue = str(appender.attrib.get('filePattern'))\
                                                                .replace("${sys:catalina.home}", self.griff_tomcat_log4j_property_dict[self.griff_log_backupBasePath])\
                                                                .replace("${log.rollover.datePattern}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_datePattern])\
                                                                .replace("${log.rollover.extension}", self.griff_tomcat_log4j_property_dict[self.griff_log_rollover_extension])
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_backup_path] = replacedValue
                                            
                                            else:
                                                self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_backup_path] = appender.attrib.get('filePattern')
                                        else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_path] = appender.attrib.get('fileName')
                                    else:
                                            self.griff_tomcat_log_path_dict[self.griff_tomcat_subtlog_path] = appender.attrib.get('fileName')
                                                
            except ET.ParseError as ex:
                logging.debug(ex)
        
    def initialize_tomcat_path(self, section):
            """
            Initialize griff tomcat path.
            """
            try:
                self.parse_transaction_logging(section)
            except ValueError as error:
                raise ValueError(error)
            except Exception as error:
                raise